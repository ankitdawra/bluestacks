(this.webpackJsonpbluestacks=this.webpackJsonpbluestacks||[]).push([[0],{105:function(e,a,t){},106:function(e,a,t){},166:function(e,a,t){},167:function(e,a,t){},168:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),i=t.n(c),l=(t(98),t(17)),o=(t(103),t(24)),s=t(77),m=t(91),u=t(13),p=t(78),d=t(79),g=t(20),f=t.n(g),v=Object.freeze({UPCOMING:1,LIVE:2,PAST:3}),E=Object.freeze([{label:"Upcoming Campaigns",id:v.UPCOMING},{label:"Live Campaigns",id:v.LIVE},{label:"Past Campaigns",id:v.PAST}]);var b=function(){function e(a){var t=a.id,n=a.name,r=a.region,c=a.createdOn,i=a.price,l=a.csv,o=a.report;Object(p.a)(this,e),this.id=t,this.name=n,this.region=r,this.createdOn=1e3*c,this.price=i,this.csv=l,this.report=o}return Object(d.a)(e,[{key:"_buildImagePath",value:function(e){return"./bluestacks/assets/Row Copy ".concat(e,"-Row/Thumb/Bitmap.png")}}],[{key:"build",value:function(a){var t=new e(a);return t.filterCateg=e.computeCategory(t),t.imageUrl=t._buildImagePath(a.id),t}},{key:"computeCategory",value:function(e){return a=e.createdOn,f()(a).isSame(f()(),"day")&&f()(a).isSame(f()(),"month")&&f()(a).isSame(f()(),"year")?v.LIVE:function(e){return f()(e).isBefore(f()().startOf("day"))}(e.createdOn)?v.PAST:v.UPCOMING;var a}}]),e}(),h={loadingCampaigns:!1,campaigns:[],campaignsById:{},activeFilterId:1};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOAD_CAMPAIGNS_START":return Object(u.a)(Object(u.a)({},e),{},{loadingCampaigns:!0});case"LOAD_CAMPAIGNS_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{loadingCampaigns:!1,campaigns:Object(m.a)(a.campaignIds),campaignsById:a.campaignsById});case"ON_FILTER":return Object(u.a)(Object(u.a)({},e),{},{activeFilterId:a.filterId});case"UPDATE_DATE":var t=Object(u.a)({},e.campaignsById);return t[a.id]=Object(u.a)(Object(u.a)({},t[a.id]),{},{createdOn:a.newDate}),t[a.id].filterCateg=b.computeCategory(t[a.id]),Object(u.a)(Object(u.a)({},e),{},{campaignsById:t});default:return e}},C=Object(o.c)({appReducer:O}),S=Object(o.d)(C,{},Object(o.a)(s.a));t(105),t(106);var y=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("img",{src:"./bluestacks/logo.png",className:"logo",alt:"bluestacks"})))},N=t(176),I=t(62),w=t.n(I),k=t(80),j=function(e){return new Promise((function(a,t){e?a(JSON.parse(window.localStorage.getItem("campaignData"))):t()}))},A={data:[{id:1,name:"Test Whatsapp",region:"US",createdOn:1599332722,price:"Price info of Test Whatsapp",csv:"Some CSV link for Whatsapp",report:"Some report link for Whatsapp",image_url:"Some image url of the campaign"},{id:2,name:"Super Jewels Quest",region:"CA, FR",createdOn:1601924722,price:"Price info of Super Jewels Quest",csv:"Some CSV link for Super Jewels Quest",report:"Some report link for Super Jewels Ques",image_url:"Some image url of the campaign"},{id:3,name:"Mole Slayer",region:"FR",createdOn:1599159922,price:"Price info of Mole Slayer",csv:"Some CSV link for Mole Slayer",report:"Some report link for Mole Slayer",image_url:"Some image url of the campaign"},{id:4,name:"Mancala Mix",region:"JP",createdOn:1599332722,price:"Price info of Mancala Mix",csv:"Some CSV link for Mancala Mix",report:"Some report link for Mancala Mix",image_url:"Some image url of the campaign"}]};var R=Object(l.b)(null,{filterCampaigns:function(e){return function(a){a({type:"ON_FILTER",filterId:e})}}})((function(e){var a=e.filterCampaigns;return r.a.createElement("div",{className:"campaign-filters"},r.a.createElement(N.a,{variant:"tabs",defaultActiveKey:"1",onSelect:function(e){return a(e)}},E.map((function(e){return r.a.createElement(N.a.Item,{key:e.id},r.a.createElement(N.a.Link,{eventKey:e.id},e.label))}))))})),M=t(39),P=t(87),D=t.n(P),_=(t(110),t(41)),T=t.n(_);var B=function(e){var a=e.value,t=e.format,n=void 0===t?"YYYY/MM/DD":t;return r.a.createElement(T.a,{format:n},a)},F=r.a.forwardRef((function(e,a){var t=e.onClick,n=e.path;return r.a.createElement("div",{className:"schedule-datw",onClick:t},r.a.createElement("img",{src:"".concat(n,"/Group/calendar.png"),height:"20",className:"half-breathing-space right-only"}),"Schedule Again")})),L=t(175),G=t(174);var U=function(e){var a=e.handleClose,t=e.campaign;return console.log(t),r.a.createElement(L.a,{show:!0,onHide:a,dialogClassName:"campaign-modal"},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Title,null,r.a.createElement("div",{className:"title"},r.a.createElement("img",{src:t.imageUrl}),r.a.createElement("div",{className:"name"},t.name,r.a.createElement("span",{className:"meta"},t.region))))),r.a.createElement(L.a.Body,null,"Woohoo, you're reading this text in a modal!"),r.a.createElement(L.a.Footer,null,r.a.createElement(G.a,{value:"clogin",variant:"secondary",onClick:a},"Close"),r.a.createElement(G.a,{variant:"primary",onClick:a},"Save Changes")))},x=r.a.createRef();var V=Object(l.b)((function(e){var a=e.appReducer;return{campaignsById:a.campaignsById,activeFilterId:a.activeFilterId}}),{updateDate:function(e,a){return function(t){t({type:"UPDATE_DATE",id:e.id,newDate:a})}}})((function(e){var a=e.campaignId,t=e.updateDate,c=e.campaignsById,i=e.activeFilterId,l=c[a],o=Object(n.useState)(!1),s=Object(M.a)(o,2),m=s[0],u=s[1],p=r.a.useCallback((function(e){t(l,e)}),[]),d=function(){u((function(e){return!e}))};return l&&l.filterCateg==i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"table-row",onClick:d},r.a.createElement("div",{className:"item"},r.a.createElement(B,{format:"MMM YYYY, DD",value:l.createdOn}),l.filterCateg!==v.LIVE&&r.a.createElement("div",{className:"meta text-capitalize"},r.a.createElement(T.a,{fromNow:!0,ago:!0},l.createdOn),l.filterCateg===v.PAST?" ago":" ahead")),r.a.createElement("div",{className:"item campaign-name"},r.a.createElement("img",{src:l.imageUrl}),r.a.createElement("div",{className:"name"},r.a.createElement("span",null,l.name),r.a.createElement("span",{className:"meta"},l.region))),r.a.createElement("div",{className:"item"},r.a.createElement("img",{src:"".concat("./bluestacks/assets/Row Copy 0-Row","/Group 4/Price.png"),height:"20",className:"half-breathing-space right-only"}),"View Pricing"),r.a.createElement("div",{className:"item actions"},r.a.createElement("div",{className:"action-item"},r.a.createElement("img",{src:"".concat("./bluestacks/assets/Row Copy 0-Row","/Group 3/file.png"),height:"20",className:"half-breathing-space right-only"}),"CSV"),r.a.createElement("div",{className:"action-item"},r.a.createElement("img",{src:"".concat("./bluestacks/assets/Row Copy 0-Row","/Group 2/statistics-report.png"),height:"20",className:"half-breathing-space right-only"}),"Report"),r.a.createElement("div",{className:"action-item",onClick:function(e){return e.stopPropagation()}},r.a.createElement(D.a,{selected:l.createdOn,onChange:function(e){return p(e)},customInput:r.a.createElement(F,{ref:x,path:"./bluestacks/assets/Row Copy 0-Row"})})))),m&&r.a.createElement(U,{campaign:l,handleClose:d})):r.a.createElement(r.a.Fragment,null)}));t(166);var J=Object(l.b)((function(e){var a=e.appReducer;return{campaigns:a.campaigns,activeFilterId:a.activeFilterId,campaignsById:a.campaignsById,loadingCampaigns:a.loadingCampaigns}}))((function(e){var a=e.campaigns,t=e.activeFilterId,c=e.campaignsById,i=e.loadingCampaigns,l=Object(n.useState)(!0),o=Object(M.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)(!1),p=Object(M.a)(u,2),d=p[0],g=p[1],f=Object(n.useRef)(),v=f.current;return Object(n.useEffect)((function(){f.current=i,v&&!f.current&&g(!0)}),[i]),Object(n.useEffect)((function(){for(var e in c){if(Number(t)===Number(c[e].filterCateg)){m(!0);break}m(!1)}}),[c,t]),r.a.createElement(r.a.Fragment,null,d&&r.a.createElement("div",{className:"campaign-table"},a.length&&r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"table-header table-row"},r.a.createElement("div",{className:"item"},"Date"),r.a.createElement("div",{className:"item"},"Campaign"),r.a.createElement("div",{className:"item"},"View"),r.a.createElement("div",{className:"item"},"Actions")),r.a.createElement("div",{className:"table-body"},s&&a.map((function(e,a){return r.a.createElement(V,{campaignId:e,key:a})})),!s&&r.a.createElement("div",{className:"text-center"},"No active campaigns in this category."))),!a.length&&r.a.createElement("div",null,"Sorry, No campaigns available!")))}));t(167);var Y=Object(l.b)((function(e){return{loading:e.appReducer.loading}}),{loadCampaigns:function(){return function(){var e=Object(k.a)(w.a.mark((function e(a){var t,n,r,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOAD_CAMPAIGNS_START"}),e.prev=1,e.next=4,j(!0);case 4:t=e.sent,n=t.data,r=n.map((function(e,a){return b.build(e,a)})),c=[],i={},r.forEach((function(e){i[e.id]=e,c.push(e.id)})),a({type:"LOAD_CAMPAIGNS_SUCCESS",campaignIds:c,campaignsById:i}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.warn(e.t0),a({type:"LOAD_CAMPAIGNS_ERROR"});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a){return e.apply(this,arguments)}}()}})((function(e){var a=e.loadCampaigns;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("h1",null,"Manage Campaigns"),r.a.createElement(R,null),r.a.createElement(J,null)))}));var W=function(){return Object(n.useState)((function(){window.localStorage.setItem("campaignData",JSON.stringify(A))})),r.a.createElement(l.a,{store:S},r.a.createElement("div",{className:"app"},r.a.createElement(y,null),r.a.createElement("div",{className:"app-container"},r.a.createElement(Y,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,a,t){e.exports=t(168)},98:function(e,a,t){}},[[93,1,2]]]);
//# sourceMappingURL=main.95e6b70c.chunk.js.map